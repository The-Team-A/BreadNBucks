<!DOCTYPE html>
<html ng-app="Sectors">

<head lang="en">
	<meta charset="UTF-8">
	<title>Bread and Bucks</title>
	<!-- <link rel="icon" type="image/png" href="Images/apple.png"> -->
	<link rel="stylesheet" type="text/css" href="mainpage.css">
</head>
<body >

	<main>
		<header>
			<h1>BREAD AND BUCKS</h1>
		</header>
		
		<section>
			<div id="nav-wrapper" ng-controller="getSector as gs" >
				<ul id="nav">
					<li><a>Home</a></li>
					<li><a>SIGN IN</a></li>
					<li><a>ABOUT</a></li>
					<li><a>REVIEWS</a></li>
					<li><a>*************** SECTORS *************** &#9662;</a>
						<ul class="dropdown" >
						<li ng-repeat="item in content" ng-click="gs.submit(item.name,item.symbol)"><a>{{item.name}}  {{item.symbol}}</a><br></li>
							<li>
								
							</li>
							
							
					
						</ul>
					</li>
					
				</ul>
				
				
	
				</div>



			
		</section>
		
	</main>
	<footer>
		<p>
			*DISCLAIMER:
		</p>
	
	</footer>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js">
	</script>
	<script type="text/javascript">
	var app = angular.module('Sectors', []);
	
	app.controller('getSector', function($scope, $http) {
		
			window.onload=function()
			{
				$http.get('http://localhost:8080/RestDemoService/sectorDisplay')
					.then(function(response) {
        $scope.content = response.data;
        
        $scope.statustext = response.status;
		
        
											});
					
			};
	
	this.submit = function(UIname,UIsymbol) {
	
	var varname = {name:UIname,symbol:UIsymbol};
    var jsonv = JSON.stringify(varname);
	console.log(jsonv);
		$http.post('http://localhost:8080/RestDemoService/securityDisplay',jsonv,{'Content':'application/json','Accept':'application/json'})
		.then(function(response){			//Anonymus function for success callback
		
			console.log(response.data);		//Prints success log
			
			
		},function(response){				//Anonymus function for error callback
		
			console.log("There was an error: " + response.status + " " + response.statusText);
											//Prints error log
							});
			
		};
	
	});
</script>
	
</body>
</html>